<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Server Status</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <script src="assets/js/scripts.js" defer></script>
</head>
<body>

<header>
  <h1>Server Status</h1>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="gallery.html">Gallery</a>
  <a href="community.html">Community</a>
  <a href="about.html">About</a>
</nav>

<div class="card">
  <p>Status: <span id="server-status">Loading...</span></p>
  <p>Players Online: <span id="player-count">Loading...</span></p>
  <ul id="player-list"></ul>
</div>

<script>
  const serverAddress = 'introduction-perfume.gl.at.ply.gg'; // Replace with your server's address

  async function fetchServerStatus() {
    try {
      const response = await fetch(`https://api.mcsrvstat.us/bedrock/3/${serverAddress}`);
      const data = await response.json();

      if (data.online) {
        document.getElementById('server-status').textContent = 'Online';
        document.getElementById('server-status').classList.add('online');
        document.getElementById('server-status').classList.remove('offline');
        document.getElementById('player-count').textContent = `${data.players.online} / ${data.players.max}`;
        const playerList = document.getElementById('player-list');
        playerList.innerHTML = '';
        data.players.list.forEach(player => {
          const li = document.createElement('li');
          li.textContent = player;
          playerList.appendChild(li);
        });
      } else {
        document.getElementById('server-status').textContent = 'Offline';
        document.getElementById('server-status').classList.add('offline');
        document.getElementById('server-status').classList.remove('online');
        document.getElementById('player-count').textContent = 'N/A';
        document.getElementById('player-list').innerHTML = '';
      }
    } catch (error) {
      console.error('Error fetching server status:', error);
      document.getElementById('server-status').textContent = 'Error';
      document.getElementById('server-status').classList.add('offline');
      document.getElementById('server-status').classList.remove('online');
      document.getElementById('player-count').textContent = 'N/A';
      document.getElementById('player-list').innerHTML = '';
    }
  }

  fetchServerStatus();
</script>

</body>
</html>
